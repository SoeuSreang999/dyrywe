import{o as b,i as Z,w as G,a as ee,h as te,t as ne,A as F,I as B,l as le,N as K,u as ae,b as E,c as h,v as oe,d as V,_ as Q,O as re,e as se}from"./B2xPHfon.js";import{r as y,q as L,g as j,s as A,u as D,v as ue,x as ie,y as ce,z as k,_ as de,A as J,o as T,c as P,b as _,w as M,a as d,B as S,T as ve,C as N,d as $,F as pe,D as fe,t as U}from"./CGjj599h.js";function q(t,o){if(t)return t;let a=o??"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function me(t,o){let a=y(q(t.value.type,t.value.as));return L(()=>{a.value=q(t.value.type,t.value.as)}),j(()=>{var r;a.value||b(o)&&b(o)instanceof HTMLButtonElement&&!((r=b(o))!=null&&r.hasAttribute("type"))&&(a.value="button")}),a}function H(t){return[t.screenX,t.screenY]}function ge(){let t=y([-1,-1]);return{wasMoved(o){let a=H(o);return t.value[0]===a[0]&&t.value[1]===a[1]?!1:(t.value=a,!0)},update(o){t.value=H(o)}}}function be({container:t,accept:o,walk:a,enabled:r}){j(()=>{let s=t.value;if(!s||r!==void 0&&!r.value)return;let l=Z(t);if(!l)return;let e=Object.assign(u=>o(u),{acceptNode:o}),v=l.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,e,!1);for(;v.nextNode();)a(v.currentNode)})}function he(t){throw new Error("Unexpected object: "+t)}var I=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(I||{});function xe(t,o){let a=o.resolveItems();if(a.length<=0)return null;let r=o.resolveActiveIndex(),s=r??-1;switch(t.focus){case 0:{for(let l=0;l<a.length;++l)if(!o.resolveDisabled(a[l],l,a))return l;return r}case 1:{s===-1&&(s=a.length);for(let l=s-1;l>=0;--l)if(!o.resolveDisabled(a[l],l,a))return l;return r}case 2:{for(let l=s+1;l<a.length;++l)if(!o.resolveDisabled(a[l],l,a))return l;return r}case 3:{for(let l=a.length-1;l>=0;--l)if(!o.resolveDisabled(a[l],l,a))return l;return r}case 4:{for(let l=0;l<a.length;++l)if(o.resolveId(a[l],l,a)===t.id)return l;return r}case 5:return null;default:he(t)}}let z=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function W(t){var o,a;let r=(o=t.innerText)!=null?o:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return r;let l=!1;for(let v of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))v.remove(),l=!0;let e=l?(a=s.innerText)!=null?a:"":r;return z.test(e)&&(e=e.replace(z,"")),e}function ye(t){let o=t.getAttribute("aria-label");if(typeof o=="string")return o.trim();let a=t.getAttribute("aria-labelledby");if(a){let r=a.split(" ").map(s=>{let l=document.getElementById(s);if(l){let e=l.getAttribute("aria-label");return typeof e=="string"?e.trim():W(l).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return W(t).trim()}function _e(t){let o=y(""),a=y("");return()=>{let r=b(t);if(!r)return"";let s=r.innerText;if(o.value===s)return a.value;let l=ye(r).trim().toLowerCase();return o.value=s,a.value=l,l}}var we=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(we||{}),Ie=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Ie||{});function De(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let X=Symbol("MenuContext");function C(t){let o=ce(X,null);if(o===null){let a=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,C),a}return o}let Me=A({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:o,attrs:a}){let r=y(1),s=y(null),l=y(null),e=y([]),v=y(""),u=y(null),p=y(1);function x(n=c=>c){let c=u.value!==null?e.value[u.value]:null,i=re(n(e.value.slice()),w=>b(w.dataRef.domRef)),m=c?i.indexOf(c):null;return m===-1&&(m=null),{items:i,activeItemIndex:m}}let f={menuState:r,buttonRef:s,itemsRef:l,items:e,searchQuery:v,activeItemIndex:u,activationTrigger:p,closeMenu:()=>{r.value=1,u.value=null},openMenu:()=>r.value=0,goToItem(n,c,i){let m=x(),w=xe(n===I.Specific?{focus:I.Specific,id:c}:{focus:n},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});v.value="",u.value=w,p.value=i??1,e.value=m.items},search(n){let c=v.value!==""?0:1;v.value+=n.toLowerCase();let i=(u.value!==null?e.value.slice(u.value+c).concat(e.value.slice(0,u.value+c)):e.value).find(w=>w.dataRef.textValue.startsWith(v.value)&&!w.dataRef.disabled),m=i?e.value.indexOf(i):-1;m===-1||m===u.value||(u.value=m,p.value=1)},clearSearch(){v.value=""},registerItem(n,c){let i=x(m=>[...m,{id:n,dataRef:c}]);e.value=i.items,u.value=i.activeItemIndex,p.value=1},unregisterItem(n){let c=x(i=>{let m=i.findIndex(w=>w.id===n);return m!==-1&&i.splice(m,1),i});e.value=c.items,u.value=c.activeItemIndex,p.value=1}};return G([s,l],(n,c)=>{var i;f.closeMenu(),ee(c,te.Loose)||(n.preventDefault(),(i=b(s))==null||i.focus())},D(()=>r.value===0)),ue(X,f),ne(D(()=>ae(r.value,{0:E.Open,1:E.Closed}))),()=>{let n={open:r.value===0,close:f.closeMenu};return F({ourProps:{},theirProps:t,slot:n,slots:o,attrs:a,name:"Menu"})}}}),Se=A({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:o,slots:a,expose:r}){var s;let l=(s=t.id)!=null?s:`headlessui-menu-button-${B()}`,e=C("MenuButton");r({el:e.buttonRef,$el:e.buttonRef});function v(f){switch(f.key){case h.Space:case h.Enter:case h.ArrowDown:f.preventDefault(),f.stopPropagation(),e.openMenu(),k(()=>{var n;(n=b(e.itemsRef))==null||n.focus({preventScroll:!0}),e.goToItem(I.First)});break;case h.ArrowUp:f.preventDefault(),f.stopPropagation(),e.openMenu(),k(()=>{var n;(n=b(e.itemsRef))==null||n.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function u(f){switch(f.key){case h.Space:f.preventDefault();break}}function p(f){t.disabled||(e.menuState.value===0?(e.closeMenu(),k(()=>{var n;return(n=b(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(f.preventDefault(),e.openMenu(),De(()=>{var n;return(n=b(e.itemsRef))==null?void 0:n.focus({preventScroll:!0})})))}let x=me(D(()=>({as:t.as,type:o.type})),e.buttonRef);return()=>{var f;let n={open:e.menuState.value===0},{...c}=t,i={ref:e.buttonRef,id:l,type:x.value,"aria-haspopup":"menu","aria-controls":(f=b(e.itemsRef))==null?void 0:f.id,"aria-expanded":e.menuState.value===0,onKeydown:v,onKeyup:u,onClick:p};return F({ourProps:i,theirProps:c,slot:n,attrs:o,slots:a,name:"MenuButton"})}}}),ke=A({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:o,slots:a,expose:r}){var s;let l=(s=t.id)!=null?s:`headlessui-menu-items-${B()}`,e=C("MenuItems"),v=y(null);r({el:e.itemsRef,$el:e.itemsRef}),be({container:D(()=>b(e.itemsRef)),enabled:D(()=>e.menuState.value===0),accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});function u(n){var c;switch(v.value&&clearTimeout(v.value),n.key){case h.Space:if(e.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),e.search(n.key);case h.Enter:if(n.preventDefault(),n.stopPropagation(),e.activeItemIndex.value!==null){let i=e.items.value[e.activeItemIndex.value];(c=b(i.dataRef.domRef))==null||c.click()}e.closeMenu(),Q(b(e.buttonRef));break;case h.ArrowDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(I.Next);case h.ArrowUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(I.Previous);case h.Home:case h.PageUp:return n.preventDefault(),n.stopPropagation(),e.goToItem(I.First);case h.End:case h.PageDown:return n.preventDefault(),n.stopPropagation(),e.goToItem(I.Last);case h.Escape:n.preventDefault(),n.stopPropagation(),e.closeMenu(),k(()=>{var i;return(i=b(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case h.Tab:n.preventDefault(),n.stopPropagation(),e.closeMenu(),k(()=>oe(b(e.buttonRef),n.shiftKey?V.Previous:V.Next));break;default:n.key.length===1&&(e.search(n.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}function p(n){switch(n.key){case h.Space:n.preventDefault();break}}let x=le(),f=D(()=>x!==null?(x.value&E.Open)===E.Open:e.menuState.value===0);return()=>{var n,c;let i={open:e.menuState.value===0},{...m}=t,w={"aria-activedescendant":e.activeItemIndex.value===null||(n=e.items.value[e.activeItemIndex.value])==null?void 0:n.id,"aria-labelledby":(c=b(e.buttonRef))==null?void 0:c.id,id:l,onKeydown:u,onKeyup:p,role:"menu",tabIndex:0,ref:e.itemsRef};return F({ourProps:w,theirProps:m,slot:i,attrs:o,slots:a,features:K.RenderStrategy|K.Static,visible:f.value,name:"MenuItems"})}}}),O=A({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:o,attrs:a,expose:r}){var s;let l=(s=t.id)!=null?s:`headlessui-menu-item-${B()}`,e=C("MenuItem"),v=y(null);r({el:v,$el:v});let u=D(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===l:!1),p=_e(v),x=D(()=>({disabled:t.disabled,get textValue(){return p()},domRef:v}));L(()=>e.registerItem(l,x)),ie(()=>e.unregisterItem(l)),j(()=>{e.menuState.value===0&&u.value&&e.activationTrigger.value!==0&&k(()=>{var g,R;return(R=(g=b(v))==null?void 0:g.scrollIntoView)==null?void 0:R.call(g,{block:"nearest"})})});function f(g){if(t.disabled)return g.preventDefault();e.closeMenu(),Q(b(e.buttonRef))}function n(){if(t.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,l)}let c=ge();function i(g){c.update(g)}function m(g){c.wasMoved(g)&&(t.disabled||u.value||e.goToItem(I.Specific,l,0))}function w(g){c.wasMoved(g)&&(t.disabled||u.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:g,...R}=t,Y={active:u.value,disabled:g,close:e.closeMenu};return F({ourProps:{id:l,ref:v,role:"menuitem",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,onClick:f,onFocus:n,onPointerenter:i,onMouseenter:i,onPointermove:m,onMousemove:m,onPointerleave:w,onMouseleave:w},theirProps:{...a,...R},slot:Y,attrs:a,slots:o,name:"MenuItem"})}}});const Re={class:"block top-16 w-full"},Te={class:"px-1 py-1"},Pe={class:"px-1 py-1"},$e={__name:"DropdownMenu",emits:["edit","duplicate","archive","move","delete"],setup(t,{emit:o}){const a=o,r=()=>{a("edit")},s=()=>{a("duplicate")},l=()=>{a("delete")};return(e,v)=>{const u=J("font-awesome-icon");return T(),P("div",Re,[_(S(Me),{as:"div",class:"relative inline-block text-left"},{default:M(()=>[d("div",null,[_(S(Se),{class:"inline-flex w-full justify-center rounded-sm bg-blue-500 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:M(()=>[_(u,{icon:"list",class:"inline-flex items-center"})]),_:1})]),_(ve,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:M(()=>[_(S(ke),{class:"absolute z-50 right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:M(()=>[d("div",Te,[_(S(O),null,{default:M(({active:p})=>[d("button",{onClick:r,class:N([p?"bg-gray-400 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[_(u,{icon:"pen-alt",class:"inline-flex items-center mr-2"}),$(" Edit ")],2)]),_:1}),_(S(O),null,{default:M(({active:p})=>[d("button",{onClick:s,class:N([p?"bg-gray-400 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[_(u,{icon:"copy",class:"inline-flex items-center mr-2"}),$(" Duplicate ")],2)]),_:1})]),d("div",Pe,[_(S(O),null,{default:M(({active:p})=>[d("button",{onClick:l,class:N([p?"bg-red-600 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[_(u,{icon:"trash",class:"inline-flex items-center mr-2"}),$(" Delete ")],2)]),_:1})])]),_:1})]),_:1})]),_:1})])}}},Ee=de($e,[["__scopeId","data-v-6da8112f"]]),Fe={class:"h-full bg-gray-200 p-1 pr-4 overflow-x-auto"},Ae={class:"md:ml-[267px] bg-gray-50 rounded-md max-h-full"},Ce={class:"mt-2"},Ne={class:"block bg-white-50 p-4 rounded-sm"},Oe={class:"grid grid-cols-2 items-center justify-end"},Be=d("div",{class:"flex"},[d("h1",{class:"text-xl font-semibold text-gray-800"},"Saving Money")],-1),Le={class:"flex justify-end"},je={class:"block mt-10"},Ke={class:"grid grid-cols-1 gap-0 mt-1"},Ve={class:"relative overflow-x-auto"},Ue={class:"w-full text-md text-left rtl:text-right text-gray-950 dark:text-gray-950"},qe=d("thead",{class:"text-md text-black uppercase bg-gray-800 rounded-5"},[d("tr",null,[d("th",{scope:"col",class:"px-6 py-3 text-gray-200"}," Product name "),d("th",{scope:"col",class:"px-6 py-3 text-gray-200"}," Color "),d("th",{scope:"col",class:"px-6 py-3 text-gray-200 text-center"}," Action ")])],-1),He={scope:"row",class:"px-6 text-md"},ze={class:"px-6 py-4"},We={class:"px-6 py-4 text-center"},Xe={__name:"index",setup(t){const o=y(!1),a=y([]),r=()=>{o.value=!0},s=()=>{o.value=!1},l=async()=>{try{const e=await $fetch("/api/products");a.value=e,console.log(e)}catch(e){console.error("Error fetching products:",e)}};return L(()=>{l()}),(e,v)=>{const u=J("font-awesome-icon");return T(),P("div",Fe,[d("div",Ae,[d("main",Ce,[d("div",Ne,[d("div",Oe,[Be,d("div",Le,[d("button",{type:"button",onClick:r,class:"rounded-sm bg-blue-600 text-gray-300 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 mb-2"},[_(u,{icon:"plus-circle"}),$(" Add New ")])])]),d("div",je,[d("div",Ke,[d("div",Ve,[d("table",Ue,[qe,d("tbody",null,[(T(!0),P(pe,null,fe(a.value,p=>(T(),P("tr",{key:p._id,class:"border-b border-neutral-200 dark:border-white/10"},[d("th",He,U(p.name),1),d("td",ze,U(p.price),1),d("td",We,[_(Ee,{onEdit:x=>e.handleEdit(p),onDuplicate:x=>e.handleDuplicate(p),onArchive:x=>e.handleArchive(p),onMove:x=>e.handleMove(p),onDelete:x=>e.handleDelete(p)},null,8,["onEdit","onDuplicate","onArchive","onMove","onDelete"])])]))),128))])])])])])])]),_(se,{isOpen:o.value,onClose:s,onRefresh:l},null,8,["isOpen"])])])}}};export{Xe as default};
